import _ from 'lodash';
import path from 'path';
import express from 'express';
import cors from 'cors';
import bodyParser from 'body-parser';
import { createStore } from 'redux';
import session from 'express-session';
import uuid from 'uuid/v4';

var baseDirectoryNames = ['node_modules', 'dist', 'hangman-server'];

var nulledDirectories = baseDirectoryNames.slice(0, 2);

var configsPather = function () {
  var ref = process.argv;
  var basePath = ref[1];
  basePath = basePath.split('/');
  
  for(var i = 0, list = baseDirectoryNames; i < list.length; i += 1) {
    var baseDirectoryName = list[i];

    var end = basePath.indexOf(baseDirectoryName);
    if(end !== -1) {
      if(nulledDirectories.includes(baseDirectoryName)) {
        baseDirectoryName = '';
      }
      
      basePath = basePath.slice(0, end).join('/');
      basePath = path.join(basePath, baseDirectoryName);
      var configsFile = path.join(basePath, 'package.json');
      return [basePath, configsFile];
    }
  }
  
  return [];
};

var app = express();

var configsGenerator = function () {
  var ref = configsPather();
  var configsDirectory = ref[0];
  var configsFile = ref[1];
    
  if(!configsFile) {
    throw new Error('run from node_modules or hangman-server directory');
  }
  
  var configs = require(configsFile);
  var env = app.get('env');
  var serverConfigs = _.get(configs, ['hangman-server', env], {});
  var path$$1 = serverConfigs.path;
  var port = serverConfigs.port; if ( port === void 0 ) port = process.env.PORT;
  
  if(path$$1) {
    path$$1 = path.resolve(configsDirectory, path$$1);
  }

  return _.extend(serverConfigs, {path: path$$1, port: port});
};

var serverConfigs = configsGenerator();

var corsConfigs = {
  origin: true  
};

var corsConfigurator = function () {
  if(serverConfigs.cors) {
    app.use(cors(corsConfigs));
  }
};

var inactiveTime = 600000;
var stores = new Map();

var vars = {inactiveTime: inactiveTime, stores: stores};

var inactiveTimeSetter = function () {
  var inactiveTime = serverConfigs.inactiveTime;
  if(inactiveTime) {
    _.extend(vars, {inactiveTime: inactiveTime});
  }
};

var jsonConfigurator = function () {
  app.use(bodyParser.json());
};

var storeUpdater = function (id, store) {
  var stores = vars.stores;
  var inactiveTime = vars.inactiveTime;
  var storeObj = stores.get(id);
  var ref = storeObj || {};
  var store_ = ref.store;
  var timeout = ref.timeout;
  
  if(!store) {
    store = store_;
  }
  
  clearTimeout(timeout);
  timeout = setTimeout(function () { return stores.delete(id); }, inactiveTime);
  stores.set(id, {store: store, timeout: timeout});
  
  return store;
};

var play = function (state, data) {
  var letter = data.letter;
  var correct = state.correct;
  var missed = state.missed;
  var secretWord = state.secretWord;
  var used = state.used;
  var won = state.won;
  var word = state.word;
  
  correct = false;
  used.push(letter);
  delete data.letter;
  
  for(var idx = 0, len = secretWord.length; idx < len; idx++) {
    if(letter === secretWord[idx]) {
      word[idx] = letter;
      correct = true;
    }
  }
  
  if(correct) {
    if(_.compact(word).length === word.length) {
      won = true;
    }
  } else {
    if(++missed === 6) {
      won = false;
      word = secretWord.split('');
    }
  }
  
  _.extend(state, {correct: correct, missed: missed, won: won, word: word});
  data = _.extend(data, _.omit(state, 'secretWord'));
  
  return [state, data];
};

var productionWords = ['cooperation','cooperative','coordinated','coordinates','coordinator','copyrighted','corporation','corrections','correlation','declaration','definitions','demographic','demonstrate','departments','description','designation','destination','destruction','determining','deutschland','development','differences','differently','dimensional','directories','disciplines','disclaimers','discussions','disposition','distinction','distributed','distributor','documentary','downloading','educational','effectively','efficiently','ejaculation','electricity','electronics','eligibility','elimination','encountered','encouraging','endorsement','enforcement','engineering','enhancement','enlargement','enterprises','environment','equilibrium','essentially','established','evaluations','evanescence','examination','exceptional','exclusively','exhibitions','expenditure','experienced','experiences','experiments','explanation','exploration','expressions','fascinating','flexibility','foundations','frequencies','functioning','fundamental','fundraising','furnishings','furthermore','generations','governments','groundwater','highlighted','hospitality','hydrocodone','identifying','illustrated','imagination','immediately','immigration','implemented','importantly','improvement','incorporate','independent','individuals','inexpensive','information','informative','ingredients','initiatives','innovations','inspections','inspiration','institution','instruction','instructors','instruments','integrating','integration','intelligent','interaction','interactive','interesting','interpreted','interracial','introducing','investigate','investments','invitations','involvement','journalists','legislation','legislative','legislature','liabilities','lightweight','limitations','magnificent','maintaining','maintenance','malpractice','manufacture','marketplace','mathematics','measurement','medications','memorabilia','merchandise','methodology','minneapolis','mississippi','motherboard','motorcycles','necessarily','negotiation','netherlands','newsletters','nominations','nutritional','obligations','observation','occupations','operational','opportunity','orientation','outsourcing','outstanding','palestinian','participant','participate','partnership','penetration','performance','peripherals','permissions','personality','perspective','phentermine','philippines','photographs','photography','playstation','politicians','populations','positioning','possibility','potentially','powerseller','predictions','preferences','preliminary','preparation','probability','proceedings','procurement','productions','programmers','programming','progressive','promotional','proposition','proprietary','prospective','publication','recognition','recommended','recruitment','reflections','refurbished','regulations','reliability','renaissance','replacement','replication','represented','republicans','requirement','researchers','reservation','residential','resolutions','respiratory','respondents','responsible','restaurants','restoration','restriction','scholarship','screensaver','screenshots','secretariat','sensitivity','shakespeare','significant','simulations','smithsonian','southampton','specialists','specialized','specialties','spectacular','sponsorship','springfield','statistical','subdivision','submissions','subscribers','substantial','suggestions','supervision','supervisors','supplements','surrounding','sustainable','switzerland','syndication','telecharger','televisions','temperature','temporarily','termination','terminology','territories','theoretical','therapeutic','threatening','tournaments','traditional','transaction','transcripts','transferred','translation','transmitted','transparent','transsexual','tripadvisor','unavailable','uncertainty','underground','unnecessary','unsubscribe','utilization','verzeichnis','viewpicture','westminster','workstation','aboriginal','absolutely','absorption','acceptable','acceptance','accessible','accomplish','accordance','accounting','accredited','accurately','acdbentity','activation','activities','adaptation','additional','addressing','adjustable','adjustment','admissions','adolescent','advantages','adventures','advertiser','affiliated','affiliates','affordable','afterwards','aggressive','agreements','alexandria','algorithms','allocation','ambassador','amendments','analytical','annotation','antarctica','antibodies','apartments','apparently','appearance','appliances','applicable','applicants','appreciate','approaches','architects','artificial','assessment','assignment','assistance','associated','associates','assumption','atmosphere','attachment','attempting','attendance','attraction','attractive','attributes','australian','authorized','automation','automobile','automotive','azerbaijan','background','bangladesh','bankruptcy','basketball','beastality','behavioral','beneficial','bestiality','biological','birmingham','blackberry','boundaries','britannica','burlington','businesses','calculated','calculator','california','camcorders','candidates','capability','cartridges','categories','challenged','challenges','chancellor','characters','charitable','charleston','christians','chronicles','cigarettes','cincinnati','citysearch','classified','colleagues','collecting','collection','collective','collectors','columnists','commentary','commercial','commission','commitment','committees','comparable','comparison','compatible','complaints','complement','completely','completing','completion','complexity','compliance','components','compressed','compromise','conceptual','concerning','conclusion','conditions','conducting','conference','confidence','configured','connecting','connection','connectors','considered','consistent','consisting','consortium','conspiracy','constantly','constitute','constraint','consultant','consulting','contacting','containers','containing','continuing','continuity','continuous','contractor','contribute','controlled','controller','convenient','convention','conversion','conviction','coordinate','copyrights','correction','corruption','counseling','creativity','cumulative','currencies','curriculum','customized','decorating','decorative','definitely','definition','delegation','delivering','democratic','department','dependence','deployment','depression','descending','describing','designated','determined','determines','developers','developing','diagnostic','dictionary','difference','difficulty','dimensions','directions','disability','discipline','disclaimer','disclosure','discounted','discovered','discretion','discussing','discussion','dispatched','displaying','distribute','documented','downloaded','earthquake','ecological','editorials','efficiency','electrical','electronic','elementary','employment','encouraged','encourages','encryption','endangered','engagement','enrollment','enterprise','equivalent','especially','essentials','estimation','evaluating','evaluation','eventually','everything','everywhere','excellence','exceptions','excitement','executives','exhibition','experience','experiment','expiration','explaining','explicitly','expression','extensions','extraction','facilitate','facilities','favourites','federation','fellowship','formatting','forwarding','foundation','fragrances','frequently','friendship','functional','generating','generation','generators','geographic','geological','girlfriend','governance','government','graduation','greenhouse','greensboro','guaranteed','guarantees','guidelines','harassment','headphones','healthcare','helicopter','highlights','historical','horizontal','households','housewares','housewives','humanities','huntington','hypothesis','identified','identifier','identifies','immigrants','immunology','importance','impossible','impression','impressive','incentives','incomplete','increasing','incredible','indicating','indication','indicators','indigenous','individual','indonesian','industrial','industries','infections','infectious','influenced','influences','initiative','innovation','innovative','inspection','installing','institutes','instructor','instrument','insulation','integrated','interested','interfaces','internship','interstate','interviews','introduced','introduces','investment','invitation','irrigation','javascript','journalism','journalist','kazakhstan','kilometers','laboratory','landscapes','lauderdale','leadership','legitimate','likelihood','limitation','limousines','literature','litigation','louisville','luxembourg','macromedia','madagascar','mainstream','maintained','management','manchester','mastercard','meaningful','mechanical','mechanisms','medication','meditation','membership','metabolism','microphone','milfhunter','millennium','ministries','mitsubishi','moderators','monitoring','montgomery','motivation','motorcycle','mozambique','multimedia','mysterious','nationally','nationwide','navigation','networking','newsletter','newspapers','nomination','nottingham','obituaries','objectives','obligation','occasional','occupation','occurrence','officially','operations','opposition','organizing','originally','paperbacks','paragraphs','parameters','parliament','particular','passengers','percentage','perception','performing','peripheral','permission','persistent','personally','petersburg','pharmacies','phenomenon','philosophy','photograph','physically','physicians','physiology','pittsburgh','polyphonic','popularity','population','portsmouth','portuguese','possession','postposted','powerpoint','prediction','preference','prescribed','presenting','preventing','prevention','previously','principles','priorities','privileges','procedures','proceeding','processing','processors','production','productive','profession','programmer','programmes','prohibited','projection','projectors','promotions','properties','proportion','protecting','protection','protective','providence','provincial','provisions','psychiatry','psychology','publishers','publishing','punishment','purchasing','qualifying','quantities','queensland','quotations','reasonable','reasonably','recipients','recognised','recognized','recommends','recordings','recreation','recruiting','reductions','referenced','references','reflection','regardless','registered','regression','regulation','regulatory','relatively','relaxation','relocation','remarkable','remembered','repository','represents','reproduced','republican','reputation','requesting','researcher','resistance','resolution','respective','respondent','responding','restaurant','restricted','retirement','revelation','revolution','richardson','sacramento','scheduling','scientific','scientists','screenshot','securities','selections','separately','separation','settlement','signatures','simplified','simulation','situations','soundtrack','specialist','statements','stationery','statistics','strategies','strengthen','structural','structured','structures','subjective','submission','submitting','subscriber','subsection','subsequent','subsidiary','substances','substitute','successful','sufficient','suggesting','suggestion','sunglasses','supervisor','supplement','supporters','supporting','surprising','surrounded','suspension','systematic','technician','techniques','technology','television','terrorists','themselves','thereafter','thoroughly','threatened','throughout','thumbnails','thumbzilla','tournament','trackbacks','trademarks','traditions','transcript','transexual','transition','translated','translator','travelling','treatments','tremendous','ultimately','underlying','understand','understood','undertaken','unexpected','university','uzbekistan','validation','variations','vegetables','vegetarian','vegetation','veterinary','vietnamese','violations','visibility','vocabulary','vocational','volkswagen','volleyball','volunteers','vulnerable','wallpapers','warranties','washington','waterproof','webmasters','wellington','widescreen','widespread','wilderness','withdrawal','yugoslavia','abandoned','abilities','abstracts','academics','accepting','accessing','accessory','accidents','according','achieving','activated','activists','addiction','additions','addressed','addresses','admission','advantage','adventure','advertise','aerospace','affecting','affiliate','afternoon','aggregate','agreement','alexander','algorithm','alignment','allocated','allowance','alternate','aluminium','amendment','amenities','americans','amplifier','amsterdam','animation','annotated','announced','announces','anonymous','answering','antivirus','apartment','apparatus','appearing','appliance','applicant','appointed','appraisal','arbitrary','architect','argentina','arguments','arlington','armstrong','arthritis','assembled','assessing','assistant','associate','assurance','astrology','astronomy','athletics','attempted','attending','attention','attitudes','attorneys','attribute','australia','authentic','authority','automated','automatic','available','awareness','bacterial','baltimore','bandwidth','barcelona','basically','bathrooms','batteries','beautiful','beginners','beginning','behaviour','benchmark','beverages','biography','blackjack','bloomberg','bluetooth','bookmarks','bookstore','boulevard','bracelets','brazilian','breakdown','breakfast','breathing','brilliant','broadband','broadcast','brochures','brunswick','buildings','bulgarian','butterfly','calculate','calendars','cambridge','camcorder','campaigns','cancelled','candidate','carefully','caribbean','cartridge','catalogue','cathedral','catherine','celebrate','celebrity','centuries','certainly','certified','challenge','champagne','champions','changelog','character','charlotte','checklist','chemicals','chemistry','chevrolet','childhood','childrens','chocolate','christian','christina','christine','christmas','chronicle','cigarette','citations','classical','classroom','clearance','cleveland','coalition','cognitive','colleague','collected','collector','combining','commander','commented','committed','committee','commodity','communist','community','companies','companion','comparing','competent','competing','complaint','completed','compliant','component','composite','compounds','computers','computing','concerned','concluded','condition','conducted','confident','configure','confirmed','conflicts','confusion','connected','connector','conscious','consensus','considers','construct','consumers','contacted','contained','container','continent','continued','continues','contracts','converted','converter','convicted','convinced','copyright','corporate','corrected','correctly','cosmetics','countries','creations','creatures','criterion','criticism','crossword','currently','customers','customise','customize','dangerous','databases','daughters','decisions','decreased','dedicated','defendant','defensive','delicious','delivered','demanding','democracy','democrats','departure','dependent','depending','described','describes','designers','designing','desirable','desperate','destroyed','detection','detective','determine','developed','developer','deviation','diagnosis','different','difficult','dimension','direction','directive','directors','directory','discharge','discounts','discovery','discussed','discusses','disorders','displayed','distances','districts','disturbed','diversity','divisions','documents','dominican','donations','downloads','duplicate','ecommerce','economics','economies','edinburgh','editorial','education','educators','effective','efficient','elections','electoral','elevation','eliminate','elizabeth','elsewhere','emergency','emissions','emotional','empirical','employees','employers','enclosure','encounter','encourage','engineers','enhancing','enquiries','equations','equipment','essential','establish','estimated','estimates','evaluated','everybody','evolution','examining','excellent','exception','excessive','exchanges','excluding','exclusion','exclusive','execution','executive','exemption','exercises','existence','expanding','expansion','expensive','expertise','explained','exploring','explosion','expressed','extending','extension','extensive','extremely','fairfield','fantastic','favorites','favourite','featuring','festivals','filtering','financial','financing','fingering','finishing','fireplace','fisheries','following','forbidden','forecasts','forgotten','formation','fragrance','framework','franchise','francisco','frankfurt','frederick','freelance','frequency','frontpage','functions','furnished','furniture','galleries','gardening','gathering','genealogy','generally','generated','generates','generator','gentleman','geography','gibraltar','governing','gradually','graduated','graduates','graphical','greetings','guarantee','guatemala','guestbook','halloween','hampshire','handhelds','happening','happiness','hardcover','hazardous','headlines','henderson','hepatitis','hierarchy','highlight','hollywood','holocaust','hopefully','hospitals','household','hungarian','hurricane','hydraulic','identical','immediate','implement','important','impressed','improving','incentive','incidence','incidents','including','inclusion','inclusive','incorrect','increased','increases','indicated','indicates','indicator','indonesia','induction','infection','inflation','influence','inherited','initially','initiated','injection','inquiries','insertion','inspector','installed','instances','instantly','institute','insurance','integrate','integrity','intensity','intensive','intention','interests','interface','intervals','interview','introduce','invention','inventory','investing','investors','invisible','involving','isolation','jefferson','jerusalem','jewellery','keyboards','knowledge','lafayette','lancaster','landscape','languages','legendary','lexington','liability','librarian','libraries','licensing','lifestyle','lightning','listening','listprice','literally','lithuania','liverpool','livestock','locations','logistics','longitude','looksmart','louisiana','macedonia','machinery','macintosh','magazines','magnitude','maintains','mandatory','manhattan','marijuana','marketing','materials','maternity','mauritius','meanwhile','measuring','mechanics','mechanism','mediawiki','medicines','melbourne','mentioned','merchants','messaging','messenger','metallica','microsoft','microwave','migration','milwaukee','miniature','ministers','minnesota','modelling','moderator','molecular','molecules','monitored','mortality','mortgages','motivated','mountains','movements','municipal','musicians','namespace','narrative','nashville','naturally','navigator','necessary','necessity','neighbors','newcastle','newspaper','nicaragua','nightlife','nightmare','nominated','nonprofit','northeast','northwest','norwegian','notebooks','numerical','nutrition','objective','obtaining','obviously','occasions','occurring','offensive','offerings','officials','omissions','operating','operation','operators','opponents','orchestra','ordinance','organised','organisms','organized','organizer','otherwise','ourselves','overnight','ownership','packaging','paintball','paintings','palestine','panasonic','pantyhose','paperback','paragraph','parameter','parenting','partially','particles','partition','passenger','passwords','pathology','pediatric','penalties','peninsula','perceived','perfectly','performed','performer','permalink','permanent','permitted','personals','personnel','petroleum','photoshop','physician','pichunter','placement','plaintiff','platforms','political','pollution','polyester','porcelain','portfolio','portraits','positions','postcards','potential','practical','practices','preceding','precisely','precision','predicted','preferred','pregnancy','preparing','presented','presently','president','primarily','princeton','principal','principle','printable','prisoners','privilege','procedure','processed','processes','processor','producers','producing','professor','programme','projected','projector','prominent','promising','promoting','promotion','proposals','prospects','prostores','protected','protocols','prototype','providers','providing','provinces','provision','publicity','published','publisher','purchased','purchases','qualified','qualities','quarterly','questions','radiation','reactions','realistic','reasoning','receivers','receiving','reception','receptors','recipient','recognize','recommend','recorders','recording','recovered','recycling','reduction','reference','referrals','referring','refinance','reflected','regarding','registrar','regularly','regulated','relations','relatives','relevance','religions','religious','remainder','remaining','removable','rendering','renewable','replacing','reporters','reporting','represent','reproduce','requested','requiring','reservoir','residence','residents','resistant','resources','respected','responded','responses','resulting','retailers','retention','retrieval','retrieved','returning','reviewing','revisions','ringtones','riverside','robertson','rochester','roommates','sacrifice','salvation','satellite','satisfied','scenarios','scheduled','schedules','scientist','screening','scripting','sculpture','searching','secondary','secretary','selecting','selection','selective','sensitive','sentences','separated','september','sequences','seriously','sexuality','shareware','sheffield','shipments','shopzilla','shortcuts','showtimes','signature','similarly','singapore','situation','slideshow','snowboard','societies','sociology','solutions','something','sometimes','somewhere','southeast','southwest','specially','specialty','specifics','specified','specifies','spiritual','spokesman','sponsored','spotlight','spreading','squirting','stability','stainless','standards','standings','statement','statewide','statutory','stephanie','stockholm','stockings','strategic','streaming','strengths','structure','submitted','subscribe','substance','suffering','suggested','summaries','suppliers','supported','surprised','survivors','suspected','suspended','sustained','swaziland','switching','symposium','syndicate','synthesis','synthetic','technical','technique','telephone','telephony','telescope','templates','temporary','tennessee','terminals','territory','terrorism','terrorist','testament','testimony','textbooks','therapist','therefore','thesaurus','thickness','thousands','threesome','threshold','thumbnail','tolerance','trackback','trademark','tradition','transfers','transform','translate','transport','travelers','traveling','traveller','treasurer','treasures','treatment','tutorials','typically','undefined','undertake','underwear','uniprotkb','universal','unlimited','upgrading','utilities','vacancies','vacations','valentine','valuation','vancouver','variables','variation','varieties','vbulletin','vegetable','venezuela','vibrators','victorian','violation','virtually','voluntary','volunteer','voyeurweb','wallpaper','warehouse','watershed','webmaster','wednesday','wholesale','wikipedia','wisconsin','witnesses','wonderful','wondering','worcester','wordpress','workforce','workplace','workshops','worldwide','wrestling','yesterday','yorkshire','zoophilia','aberdeen','abortion','absolute','abstract','academic','accepted','accessed','accident','accounts','accuracy','accurate','achieved','acoustic','acquired','actively','activity','actually','adapters','adaptive','addition','adelaide','adequate','adjacent','adjusted','admitted','adoption','advanced','advances','advisors','advisory','advocacy','advocate','affected','agencies','aircraft','airlines','airplane','airports','alliance','allowing','although','aluminum','american','americas','analyses','analysis','analysts','analyzed','anderson','animated','announce','annoying','annually','answered','antibody','antiques','anything','anywhere','apparent','appeared','appendix','applying','approach','approval','approved','aquarium','archived','archives','argument','arkansas','arranged','arrested','arrivals','articles','artistic','asbestos','assembly','assessed','assigned','assisted','assuming','athletes','athletic','atlantic','attached','attacked','attempts','attended','attitude','attorney','auckland','auctions','audience','aviation','avoiding','bachelor','bacteria','balanced','barbados','bargains','barriers','baseball','baseline','basement','basename','bathroom','becoming','bedrooms','beginner','behavior','believed','believes','benefits','benjamin','berkeley','beverage','biblical','birthday','bleeding','blocking','bloggers','blogging','blowjobs','bookings','bookmark','botswana','boundary','boutique','bracelet','bradford','branches','breaking','breeding','briefing','brighton','bringing','brisbane','broadway','brochure','brooklyn','brothers','browsers','browsing','brunette','brussels','budapest','builders','building','bulgaria','bulletin','business','cabinets','cadillac','calendar','cambodia','cameroon','campaign','campbell','canadian','canberra','capacity','captured','carnival','carolina','caroline','carriers','carrying','cartoons','cashiers','cassette','catalogs','catalyst','category','catering','catholic','cellular','cemetery','centered','ceremony','chairman','chambers','champion','changing','channels','chapters','chargers','charging','charming','cheapest','checking','checkout','chemical','children','choosing','chrysler','churches','cingular','circuits','circular','citation','citizens','civilian','classics','cleaners','cleaning','clearing','clicking','climbing','clinical','clothing','clusters','coaching','cocktail','collapse','colleges','colombia','colonial','colorado','columbia','columbus','combined','combines','commands','comments','commerce','commonly','compared','compiled','compiler','complete','composed','composer','compound','computed','computer','concepts','concerns','concerts','conclude','concrete','conflict','confused','congress','consider','consists','consoles','constant','consumer','contacts','contains','contents','contests','continue','contract','contrary','contrast','controls','cookbook','cordless','cornwall','cosmetic','costumes','cottages','councils','counters','counties','counting','courtesy','coverage','covering','crawford','creating','creation','creative','creature','criminal','criteria','critical','crossing','cultural','cultures','cumshots','currency','customer','cylinder','darkness','database','daughter','davidson','deadline','dealtime','december','decision','declared','declined','decrease','deferred','defining','delaware','delivers','delivery','democrat','dentists','deposits','describe','designed','designer','desktops','detailed','detected','detector','deutsche','develops','diabetes','dialogue','diameter','diamonds','directed','directly','director','disabled','disagree','disaster','disclose','discount','discover','discrete','diseases','disorder','dispatch','displays','disposal','disputes','distance','distinct','district','dividend','division','doctrine','document','domestic','dominant','donation','download','downtown','drainage','dramatic','drawings','dressing','drilling','drinking','duration','dynamics','earliest','earnings','earrings','economic','editions','edmonton','educated','egyptian','election','electric','electron','elements','elephant','eligible','embedded','emerging','emirates','emission','emotions','emphasis','employed','employee','employer','enabling','enclosed','encoding','endorsed','engaging','engineer','enhanced','enjoying','enormous','enrolled','ensemble','ensuring','entering','entirely','entities','entitled','entrance','envelope','epinions','episodes','equality','equation','equipped','ericsson','estimate','ethernet','ethiopia','european','evaluate','everyday','everyone','evidence','examined','examines','examples','exchange','exciting','excluded','executed','exercise','exhibits','existing','expanded','expansys','expected','expenses','explains','explicit','explorer','exposure','extended','exterior','external','fabulous','facility','failures','familiar','families','favorite','featured','features','february','feedback','feelings','festival','fighters','fighting','filename','finances','findings','finished','fioricet','firewall','firewire','firmware','fixtures','flashers','flashing','flexible','floating','flooring','florence','florists','focusing','followed','football','footwear','forecast','forestry','formerly','fountain','fraction','franklin','freeware','frequent','friendly','frontier','function','gambling','gamecube','gamespot','gangbang','gasoline','gathered','generate','generous','genetics','geometry','glossary','gorgeous','governor','graduate','graphics','grateful','greatest','greeting','guardian','guidance','hamilton','handbags','handbook','handheld','handjobs','handling','handmade','happened','hardcore','hardware','hardwood','harrison','hartford','hawaiian','headline','hearings','heritage','highland','highways','hispanic','historic','holdings','holidays','homeland','homeless','homepage','hometown','homework','honduras','honolulu','horrible','hospital','humanity','humidity','hundreds','hydrogen','identify','identity','illinois','impaired','imperial','imported','improved','incident','included','includes','incoming','increase','incurred','indicate','indirect','industry','infected','infinite','informal','informed','infrared','injuries','innocent','inserted','insights','inspired','instance','integral','intended','interact','interest','interior','internal','internet','interval','intimate','intranet','invasion','investor','invision','involved','involves','isolated','istanbul','italiano','japanese','jennifer','johnston','jonathan','journals','judgment','judicial','junction','juvenile','kentucky','keyboard','keywords','kingston','knitting','language','latitude','laughing','launched','launches','lawrence','learners','learning','lectures','lesbians','licensed','licenses','lifetime','lightbox','lighting','likewise','limiting','lingerie','listings','literacy','literary','location','logitech','machines','magazine','magnetic','mainland','maintain','majority','malaysia','maldives','managers','managing','manitoba','manually','marathon','margaret','maritime','marriage','marriott','marshall','maryland','matching','material','mattress','maximize','mcdonald','measured','measures','medicaid','medicare','medicine','medieval','meetings','membrane','memorial','memories','mercedes','merchant','messages','metadata','metallic','michelle','michigan','midlands','midnight','military','millions','minerals','minimize','minister','ministry','minority','missions','missouri','mistakes','mistress','mitchell','mobility','modeling','moderate','modified','moisture','momentum','monetary','mongolia','monitors','monsters','montreal','moreover','morrison','mortgage','motorola','mountain','mounting','movement','multiple','musician','national','naturals','navigate','nebraska','necklace','negative','neighbor','netscape','networks','nicholas','nickname','nintendo','nitrogen','normally','northern','notebook','notified','november','numerous','observed','observer','obtained','occasion','occupied','occurred','offering','officers','official','offshore','oklahoma','olympics','openings','operated','operates','operator','opinions','opponent','opposite','optimize','optional','ordering','ordinary','organize','oriental','oriented','original','outcomes','outdoors','outlined','outreach','overcome','overhead','overseas','overview','packages','painting','pakistan','paradise','paraguay','parallel','parental','particle','partners','passport','password','patients','patricia','patterns','pavilion','payments','peaceful','pensions','performs','periodic','personal','peterson','petition','pharmacy','phillips','physical','pictures','pipeline','planners','planning','plastics','platform','platinum','playback','playlist','pleasant','pleasure','plumbing','plymouth','podcasts','pointing','policies','polished','politics','portable','portions','portland','portrait','portugal','position','positive','possible','possibly','postcard','postings','potatoes','powerful','practice','precious','pregnant','premiere','premises','prepared','presence','presents','preserve','pressing','pressure','previews','previous','princess','printers','printing','priority','prisoner','probably','problems','proceeds','produced','producer','produces','products','profiles','programs','progress','projects','promised','promises','promoted','promotes','promptly','propecia','properly','property','proposal','proposed','prospect','prostate','proteins','protocol','provided','provider','provides','province','publicly','purchase','purposes','pursuant','quantity','quarters','question','railroad','rankings','rational','reaching','reaction','readings','realized','realtors','received','receiver','receives','recently','receptor','recorded','recorder','recovery','reducing','referral','referred','reflects','refugees','regarded','regional','register','registry','rejected','relating','relation','relative','released','releases','relevant','reliable','reliance','religion','remained','remedies','remember','reminder','removing','rendered','repeated','replaced','reported','reporter','reprints','republic','requests','required','requires','research','reseller','reserved','reserves','resident','resolved','resource','response','restored','restrict','resulted','retailer','retained','retrieve','returned','revealed','revenues','reviewed','reviewer','revision','reynolds','richards','richmond','ringtone','robinson','romantic','roommate','rotation','roulette','routines','salaries','salvador','sampling','sandwich','sapphire','saturday','savannah','scanners','scanning','scenario','schedule','scholars','sciences','scotland','scottish','searched','searches','seasonal','sections','securely','security','segments','selected','semester','seminars','senators','sentence','separate','sequence','services','sessions','settings','sexually','shanghai','shemales','shepherd','shipment','shipping','shooting','shoppers','shopping','shoulder','showcase','simpsons','situated','sleeping','slightly','slovakia','slovenia','smallest','snapshot','softball','software','soldiers','solution','somebody','somerset','somewhat','southern','spanking','speakers','speaking','specials','specific','spectrum','speeches','spelling','spending','sponsors','sporting','springer','staffing','standard','standing','stanford','starring','starting','stations','statutes','steering','sterling','stickers','stopping','straight','stranger','strategy','strength','strictly','striking','stronger','strongly','struggle','students','studying','stunning','subjects','suburban','suddenly','suffered','suggests','suitable','sullivan','sunshine','superior','supplied','supplier','supplies','supports','supposed','surfaces','surgeons','surgical','surprise','surround','survival','survivor','swimming','swingers','switched','switches','symantec','sympathy','symphony','symptoms','syndrome','synopsis','syracuse','talented','tanzania','targeted','taxation','teachers','teaching','template','temporal','terminal','terrible','textbook','textiles','thailand','theaters','theology','theories','thinking','thinkpad','thompson','thorough','thoughts','thousand','threaded','thriller','throwing','thursday','timeline','titanium','together','tomatoes','tomorrow','township','tracking','trailers','trainers','training','tramadol','transfer','transmit','traveler','travesti','treasure','treasury','treating','triangle','tribunal','trinidad','tropical','trustees','tutorial','ultimate','universe','unlikely','unsigned','untitled','upcoming','updating','upgrades','uploaded','upskirts','username','vacation','validity','valuable','variable','variance','vehicles','velocity','ventures','verified','versions','vertical','veterans','vibrator','victoria','villages','violence','virginia','visiting','visitors','vitamins','warcraft','warnings','warranty','warriors','watching','webshots','websites','weddings','weekends','weighted','wellness','whatever','whenever','wherever','wildlife','williams','wireless','wishlist','workflow','workshop','worldcat','worldsex','wrapping','writings','yourself','zimbabwe','ability','abraham','absence','academy','accepts','account','accused','achieve','acquire','acrobat','acrylic','actions','actress','adapted','adapter','adaptor','address','adopted','advance','adverse','advised','advisor','affairs','affects','african','against','airfare','airline','airport','alabama','albania','alberta','alcohol','algebra','algeria','alleged','allergy','allowed','already','altered','amateur','amazing','ambient','amended','america','amongst','amounts','ampland','anaheim','analyst','analyze','anatomy','ancient','andorra','andreas','andrews','angeles','animals','another','answers','antenna','anthony','antigua','antique','antonio','anxiety','anybody','anymore','anytime','apparel','appeals','appears','applied','applies','approve','aquatic','archive','arising','arizona','armenia','arrange','arrival','arrived','arrives','article','artists','artwork','aspects','assault','assists','assumed','assumes','assured','atlanta','attacks','attempt','attract','auction','auditor','austria','authors','average','awarded','awesome','backing','baghdad','bahamas','bahrain','balance','balloon','bangbus','bangkok','banking','banners','baptist','barbara','bargain','barrier','baskets','battery','beaches','bearing','beatles','because','becomes','bedding','bedford','bedroom','beijing','belarus','belfast','belgium','beliefs','believe','belongs','beneath','benefit','bennett','bermuda','bernard','besides','betting','between','beverly','bicycle','bidding','biggest','billing','billion','binding','biology','bizarre','bizrate','blanket','blessed','blocked','blogger','blowing','blowjob','boating','bolivia','bondage','booking','boolean','borders','borough','bottles','boulder','bouquet','bowling','bracket','bradley','brandon','breasts','bridges','briefly','bristol','britain','british','britney','broader','brokers','brother','brought','browser','budgets','buffalo','builder','bukkake','burning','buttons','cabinet','calcium','calgary','calling','cameras','cameron','camping','candles','capable','capital','capitol','captain','capture','cardiac','cardiff','careers','careful','carried','carrier','carries','carroll','cartoon','casinos','casting','catalog','causing','caution','ceiling','centers','central','centres','century','ceramic','certain','chamber','chances','changed','changes','channel','chapter','charged','charger','charges','charity','charles','charlie','charter','chassis','cheaper','checked','chelsea','chester','chicago','chicken','chinese','choices','chronic','circles','circuit','citizen','claimed','clarity','classes','classic','cleaner','cleanup','cleared','clearly','clients','climate','clinics','clinton','closely','closest','closing','closure','clothes','cluster','coaches','coastal','coating','coleman','collect','college','collins','cologne','colored','colours','columns','combine','comfort','command','comment','commons','compact','company','compare','compete','compile','complex','compute','concept','concern','concert','concord','conduct','confirm','connect','consent','consist','console','consult','contact','contain','content','contest','context','control','convert','cookies','cooking','cooling','copying','cornell','corners','correct','costume','cottage','council','counsel','counted','counter','country','coupled','couples','coupons','courage','courier','courses','covered','created','creates','creator','credits','cricket','critics','croatia','crucial','cruises','crystal','cuisine','culture','cumshot','curious','current','custody','customs','cutting','cycling','damaged','damages','dancing','dealers','dealing','deborah','decades','decided','decimal','declare','decline','default','defects','defence','defense','deficit','defined','defines','degrees','delayed','deleted','delight','deliver','demands','denmark','density','depends','deposit','derived','deserve','designs','desired','desktop','despite','destiny','destroy','details','detroit','deutsch','develop','deviant','devices','devoted','diagram','diamond','dietary','digital','diploma','disable','discuss','disease','display','dispute','distant','diverse','divided','divorce','doctors','dollars','domains','donated','douglas','drawing','dressed','dresses','drivers','driving','dropped','durable','dynamic','earlier','earning','eastern','eclipse','ecology','economy','ecuador','editing','edition','editors','edwards','effects','efforts','elderly','elected','electro','elegant','element','elliott','embassy','emerald','emperor','enabled','enables','endless','enemies','engaged','engines','england','english','enhance','enjoyed','enlarge','enquiry','ensures','entered','entries','episode','equally','erotica','escorts','essence','estates','estonia','eternal','ethical','evening','evident','exactly','examine','example','excerpt','excited','exclude','execute','exhaust','exhibit','existed','expects','expedia','expense','experts','expired','expires','explain','explore','exports','exposed','express','extends','extract','extreme','fabrics','factors','factory','faculty','failing','failure','falling','fantasy','farmers','farming','fashion','fastest','fathers','feature','federal','feeding','feeling','females','ferrari','fiction','fifteen','fighter','figured','figures','filling','filters','finally','finance','finding','findlaw','fingers','finland','finnish','firefox','fishing','fisting','fitness','fitting','flights','florida','florist','flowers','focused','focuses','folders','folding','follows','footage','foreign','forests','forever','formats','forming','formula','fortune','forward','founded','founder','framing','francis','freebsd','freedom','freight','friends','fucking','fujitsu','funding','funeral','further','futures','gabriel','gadgets','gallery','garbage','gardens','gateway','gazette','general','generic','genesis','genetic','genuine','geology','georgia','germany','getting','gilbert','glasgow','glasses','glucose','gourmet','grammar','granted','graphic','gratuit','gravity','greater','greatly','gregory','grenada','griffin','grocery','grounds','growing','guitars','habitat','halifax','hamburg','hampton','handjob','handled','handles','hanging','happens','harbour','harmful','harmony','harvard','harvest','hazards','headers','heading','headset','healing','healthy','hearing','heather','heating','heavily','heights','helpful','helping','herself','hewlett','highest','highway','himself','history','hitachi','hitting','hobbies','holders','holding','holiday','holland','hopkins','horizon','hormone','hostels','hosting','hotmail','hottest','housing','houston','however','hundred','hungary','hunting','husband','hygiene','hyundai','iceland','ignored','illegal','illness','imagine','imaging','impacts','implied','implies','imports','imposed','improve','include','indexed','indexes','indiana','indians','indices','induced','infants','initial','injured','inquire','inquiry','insects','insider','insight','install','instant','instead','insulin','insured','integer','intense','interim','invalid','invited','invoice','involve','ireland','islamic','islands','israeli','italian','jackets','jackson','jamaica','january','jeffrey','jelsoft','jessica','jewelry','johnson','joining','journal','journey','jumping','justice','justify','karaoke','katrina','keeping','kennedy','kenneth','keyword','killing','kingdom','kissing','kitchen','knights','knowing','labeled','landing','laptops','largely','largest','lasting','latinas','laundry','lawsuit','lawyers','leaders','leading','learned','leasing','leather','leaving','lebanon','lecture','legally','legends','leisure','lenders','lending','leonard','lesbian','lessons','letters','letting','levitra','lexmark','liberal','liberia','liberty','library','licence','license','licking','lighter','limited','lincoln','lindsay','linking','listing','livecam','livesex','loading','locally','located','locator','locking','lodging','logging','logical','longest','looking','lottery','luggage','machine','madison','madness','madonna','magical','mailing','mailman','managed','manager','mandate','manuals','mapping','marilyn','markers','markets','marking','married','martial','massage','massive','masters','matched','matches','matters','matthew','maximum','meaning','measure','medical','medline','meeting','melissa','members','memphis','mention','mercury','message','methods','mexican','michael','midwest','mileage','million','mineral','minimal','minimum','minolta','minutes','miracle','mirrors','missile','missing','mission','mistake','mixture','mobiles','modular','modules','moldova','moments','monitor','monster','montana','monthly','morning','morocco','mothers','mounted','mozilla','muscles','museums','musical','muslims','mustang','myanmar','mysimon','myspace','mystery','namibia','nations','natural','naughty','nearest','neither','nervous','network','neutral','newport','niagara','nigeria','nipples','nirvana','norfolk','nothing','noticed','notices','novelty','nowhere','nuclear','numbers','numeric','nursery','nursing','oakland','obesity','objects','observe','obvious','october','offense','offered','officer','offices','offline','olympic','olympus','ongoing','ontario','opening','operate','opinion','opposed','optical','optimal','optimum','options','ordered','organic','origins','orlando','orleans','outcome','outdoor','outlets','outline','outlook','outputs','outside','overall','pacific','package','packard','packets','packing','painful','painted','panties','parents','parking','partial','parties','partner','passage','passing','passion','passive','patches','patents','patient','patrick','pattern','payable','payment','payroll','penalty','pendant','pending','penguin','pension','pentium','peoples','percent','perfect','perform','perfume','perhaps','periods','permits','persian','persons','phantom','philips','phoenix','phrases','physics','picking','picture','pioneer','pirates','pissing','placing','planets','planned','planner','plastic','playboy','players','playing','pleased','plugins','pockets','podcast','pointed','pointer','pokemon','polymer','pontiac','popular','porsche','portion','possess','postage','posters','posting','pottery','poultry','poverty','powered','prairie','prayers','precise','predict','prefers','premier','premium','prepaid','prepare','present','pressed','preston','prevent','preview','pricing','primary','printed','printer','privacy','private','problem','proceed','process','produce','product','profile','profits','program','project','promise','promote','prophet','propose','protect','protein','protest','proudly','provide','publish','pulling','purpose','pursuit','pushing','putting','puzzles','qualify','quality','quantum','quarter','queries','quickly','quizzes','radical','railway','rainbow','raising','raleigh','rangers','ranging','ranking','rapidly','ratings','raymond','reached','reaches','readers','readily','reading','reality','realize','realtor','reasons','rebates','rebecca','rebound','receipt','receive','recipes','records','recover','redhead','reduced','reduces','refined','reflect','reforms','refresh','refused','regards','regions','regular','related','relates','release','relying','remains','remarks','removal','removed','renewal','rentals','repairs','replace','replica','replied','replies','reports','reprint','request','require','reserve','resolve','resorts','respect','respond','restore','results','resumes','retired','retreat','returns','reunion','reuters','reveals','revenge','revenue','reverse','reviews','revised','rewards','richard','roberts','rolling','romance','romania','roughly','routers','routine','routing','royalty','running','runtime','russell','russian','sailing','samples','samsung','satisfy','savings','scanned','scanner','schemes','scholar','schools','science','scoring','scratch','screens','scripts','seafood','seasons','seating','seattle','seconds','secrets','section','sectors','secured','seekers','seeking','segment','sellers','selling','seminar','senator','sending','senegal','seniors','sensors','serious','servers','service','serving','session','setting','settled','seventh','several','shadows','shakira','shannon','sharing','shelter','shemale','sheriff','sherman','shipped','shopper','shorter','shortly','showers','showing','shuttle','siemens','signals','signing','silence','silicon','similar','simpson','singing','singles','sisters','sitemap','sitting','skating','skilled','smaller','smilies','smoking','society','solaris','soldier','solomon','solving','somalia','somehow','someone','soonest','sources','spanish','spatial','speaker','special','species','specify','spencer','spirits','sponsor','springs','spyware','stadium','stanley','started','starter','startup','stating','station','statute','staying','stephen','stevens','stewart','sticker','stomach','stopped','storage','stories','strange','streams','streets','stretch','strikes','strings','stripes','student','studied','studies','studios','stuffed','stylish','subject','sublime','succeed','success','sucking','suggest','suicide','summary','sunrise','support','suppose','supreme','surface','surfing','surgeon','surgery','surname','surplus','surveys','survive','suspect','swedish','symbols','systems','tablets','tactics','talking','targets','teacher','teaches','teenage','telecom','telling','tension','terrace','terrain','testing','textile','texture','theater','theatre','theorem','therapy','thereby','thereof','thermal','thomson','thought','threads','threats','through','thunder','tickets','tiffany','timothy','tobacco','toddler','tonight','toolbar','toolbox','toolkit','topless','toronto','torture','toshiba','totally','touched','touring','tourism','tourist','towards','tracked','tracker','tractor','trading','traffic','tragedy','trailer','trained','trainer','transit','travels','treated','tribune','tribute','trigger','trinity','triumph','trouble','trusted','trustee','tsunami','tuesday','tuition','tunisia','turkish','turning','twisted','typical','ukraine','unified','uniform','unknown','unusual','updated','updates','upgrade','upskirt','uruguay','usually','utility','utilize','vaccine','vampire','vanilla','variety','various','varying','vatican','vehicle','vendors','venture','verizon','vermont','version','vessels','veteran','victims','victory','vietnam','viewers','viewing','village','vincent','vintage','violent','virtual','viruses','visible','visited','visitor','vitamin','voltage','volumes','waiting','walking','wallace','wanting','warming','warning','warrant','warrior','washing','watched','watches','weapons','wearing','weather','webcams','webcast','weblogs','webpage','website','webster','wedding','weekend','weights','welcome','welding','welfare','western','whereas','whether','wichita','william','willing','windows','windsor','winners','winning','winston','wishing','without','witness','workers','working','workout','worried','worship','wrapped','writers','writing','written','wyoming','younger','zealand','abroad','absent','accent','accept','access','across','acting','action','active','actors','actual','adding','adidas','adipex','adjust','adrian','adults','advert','advice','advise','adware','aerial','affair','affect','afford','afraid','africa','agency','agenda','agents','agreed','agrees','alaska','albany','albert','albums','alerts','alfred','allied','allows','almost','alpine','alumni','always','amanda','amazon','ambien','amount','analog','anchor','andale','andrea','andrew','angela','angels','angola','animal','annual','answer','anyone','anyway','apache','apollo','appeal','appear','approx','arabia','arabic','arcade','arctic','argued','arnold','around','arrest','arrive','arthur','artist','ashley','asking','aspect','assess','assets','assign','assist','assume','assure','asthma','asylum','athens','atomic','attach','attack','attend','auburn','august','aurora','austin','author','autumn','avatar','avenue','awards','babies','backed','backup','bailey','baking','ballet','ballot','banana','banned','banner','barbie','barely','barnes','barrel','basics','basket','batman','battle','beauty','beaver','became','become','before','begins','behalf','behind','beings','belief','belize','belkin','belong','berlin','beside','better','beyond','bhutan','bidder','bigger','bikini','binary','bishop','blacks','blades','blocks','blonde','bloody','boards','bodies','border','boring','bosnia','boston','bother','bottle','bottom','bought','boxing','brakes','branch','brands','brazil','breach','breaks','breast','breath','breeds','bridal','bridge','briefs','bright','brings','broken','broker','bronze','brooks','browse','brunei','brutal','bryant','bubble','budget','buffer','bufing','builds','bullet','bumper','bundle','burden','bureau','buried','burner','burton','butler','butter','button','buyers','buying','cables','cached','called','calvin','camera','campus','canada','cancel','cancer','candle','cannon','canvas','canyon','carbon','career','caring','carlos','carmen','carpet','carter','casino','castle','casual','cattle','caught','caused','causes','cayman','celebs','celtic','cement','census','center','centre','chains','chairs','chance','change','chapel','charge','charms','charts','cheats','checks','cheers','cheese','cheque','cherry','chicks','choice','choose','chorus','chosen','christ','chrome','chubby','church','cialis','cinema','circle','circus','cities','claims','claire','clarke','clause','clicks','client','clinic','clocks','closed','closer','closes','clouds','cloudy','coated','coding','coffee','collar','colony','colors','colour','column','combat','comedy','comics','coming','commit','common','compaq','comply','condos','config','cooked','cookie','cooler','cooper','copied','copies','copper','corner','corpus','cotton','counts','county','couple','coupon','course','courts','covers','cowboy','cradle','crafts','create','credit','crimes','crisis','cruise','cursor','curtis','curves','custom','cycles','cyprus','dakota','dallas','damage','danger','daniel','danish','darwin','dating','dayton','deadly','dealer','deaths','debate','debian','decade','decent','decide','deemed','deeper','deeply','defeat','defend','define','degree','delays','delete','deluxe','demand','denial','denied','dennis','dental','denver','depend','deputy','desert','design','desire','detail','detect','device','dialog','diesel','differ','digest','dildos','dining','dinner','direct','dishes','disney','divide','divine','diving','doctor','dollar','domain','donald','donate','donors','dosage','double','dozens','dragon','dreams','drinks','driven','driver','drives','dublin','duncan','durham','during','duties','eagles','earned','easier','easily','easter','eating','ebooks','edited','editor','edward','effect','effort','either','eleven','emails','eminem','empire','employ','enable','ending','energy','engage','engine','enough','ensure','enters','entire','entity','enzyme','equity','erotic','errors','escape','escort','essays','estate','ethics','ethnic','eugene','europe','events','exceed','except','excess','excuse','exempt','exists','exotic','expand','expect','expert','export','extend','extent','extras','fabric','facial','facing','factor','failed','fairly','fallen','family','famous','farmer','faster','father','favors','favour','fellow','female','fetish','fields','figure','filing','filled','filter','finals','finder','finest','finger','finish','finite','fiscal','fisher','fitted','flavor','fleece','flickr','flight','floors','floppy','floral','flower','flying','folder','follow','forbes','forced','forces','forest','forget','forgot','formal','format','formed','former','forums','fossil','foster','fought','fourth','framed','frames','france','fraser','freely','freeze','french','friday','fridge','friend','frozen','fruits','fucked','funded','fusion','future','gained','galaxy','gaming','garage','garcia','garden','garlic','garmin','gather','gender','geneva','genius','genome','genres','gentle','gently','george','gerald','german','giants','gibson','giving','glance','global','gloves','golden','google','gordon','gospel','gossip','gothic','gotten','grades','graham','grande','granny','grants','graphs','gratis','greece','greene','groove','ground','groups','growth','guards','guests','guided','guides','guilty','guinea','guitar','guyana','habits','hacker','hammer','handed','handle','hansen','happen','harbor','harder','hardly','harley','harold','harper','harris','harvey','having','hawaii','hazard','headed','header','health','hearts','heated','heater','heaven','hebrew','height','helena','helmet','helped','hentai','herald','herbal','hereby','herein','heroes','hidden','higher','highly','hiking','hilton','hiring','hockey','holdem','holder','hollow','holmes','honest','honors','hoping','horror','horses','hosted','hostel','hotels','hourly','houses','howard','hudson','hughes','humans','hunger','hungry','hunter','hybrid','ignore','images','immune','impact','import','impose','incest','inches','income','indeed','indian','indoor','infant','inform','injury','inkjet','inline','inputs','insert','inside','intake','intend','intent','invest','invite','island','israel','issued','issues','italia','italic','itself','itunes','jacket','jackie','jaguar','jeremy','jersey','jewish','johnny','joined','jordan','joseph','joshua','judges','julian','jungle','junior','justin','kansas','kelkoo','kernel','kidney','kijiji','killed','killer','kinase','knight','knives','korean','kruger','kuwait','labels','labour','ladder','ladies','lambda','laptop','larger','lately','latest','latina','latino','latter','latvia','launch','lauren','lawyer','layers','layout','leader','league','leaves','legacy','legend','lender','length','lenses','leslie','lesser','lesson','letter','levels','liable','lights','likely','limits','linear','linked','liquid','listed','listen','little','living','loaded','locale','locate','locked','logged','lolita','london','lonely','longer','looked','lookup','losing','losses','louise','lounge','lovely','lovers','loving','lowest','luther','luxury','lyrics','madrid','magnet','maiden','mailed','mailto','mainly','makers','makeup','making','malawi','manage','manner','manual','marble','marcus','margin','mariah','marina','marine','marion','marked','marker','market','martha','martin','marvel','master','mating','matrix','matter','mature','median','medium','meetup','member','memory','mental','mentor','merely','merger','metals','meters','method','metres','metric','mexico','michel','middle','mighty','miller','milton','mining','minute','mirror','missed','mixing','mobile','models','modems','modern','modify','module','moment','monaco','monday','monica','monkey','monroe','months','morgan','morris','moscow','mostly','motels','mother','motion','motors','mounts','movers','movies','moving','msgstr','mumbai','munich','murder','murphy','murray','muscle','museum','muslim','mutual','myrtle','myself','namely','naples','narrow','nascar','nasdaq','nathan','nation','native','nature','nearby','nearly','needed','needle','nelson','nested','neural','nevada','newark','newbie','newest','newman','newton','nextel','nickel','nicole','nights','nipple','nissan','nobody','normal','norman','norton','norway','notice','notify','notion','novels','nudist','nudity','number','nurses','nutten','nvidia','object','obtain','occurs','offers','office','offset','oldest','oliver','online','opened','optics','option','oracle','orange','orders','oregon','orgasm','origin','others','ottawa','outlet','output','owners','oxford','oxygen','packed','packet','palace','palmer','pamela','panama','panels','papers','parade','parcel','parent','parish','parker','partly','passed','passes','pastor','patent','patrol','payday','paying','paypal','peeing','pencil','people','pepper','period','permit','person','petite','phases','philip','phones','photos','phrase','picked','pickup','picnic','pieces','pierce','pierre','pillow','pixels','placed','places','plains','planes','planet','plants','plasma','plates','played','player','please','pledge','plenty','plugin','pocket','poetry','points','poison','poland','police','policy','polish','portal','porter','posing','postal','posted','poster','potato','potter','pounds','powder','powell','powers','prague','praise','prayer','prefer','prefix','pretty','priced','prices','priest','prince','prints','prison','prizes','profit','prompt','proper','proved','proven','prozac','public','pubmed','puerto','pulled','pupils','purple','pursue','pushed','puzzle','python','quebec','queens','quoted','quotes','rabbit','rachel','racial','racing','radios','radius','raised','raises','random','ranger','ranges','ranked','rapids','rarely','rather','rating','ratios','reader','really','realty','reason','rebate','recall','recent','recipe','record','redeem','reduce','refers','refine','reform','refund','refuse','regard','reggae','regime','region','reject','relate','relief','reload','remain','remark','remedy','remind','remote','remove','render','rental','repair','repeat','report','rescue','resist','resort','result','resume','retail','retain','return','reveal','review','reward','rhythm','ribbon','riders','riding','rights','rising','rivers','robbie','robert','robots','robust','rocket','rogers','roland','rolled','roller','ronald','roster','rotary','rounds','router','routes','rubber','ruling','runner','russia','rwanda','sacred','saddam','safari','safely','safety','saints','salary','salmon','sample','samuel','sandra','saturn','savage','saving','saying','scales','scared','scenes','scenic','schema','scheme','school','scored','scores','scotia','screen','script','scroll','sealed','search','season','second','secret','sector','secure','seeing','seeker','seemed','select','seller','senate','sender','senior','sensor','serbia','serial','series','served','server','serves','settle','severe','sewing','sexcam','sexual','shades','shadow','shaped','shapes','shared','shares','sharon','shaved','sheets','shield','shirts','shorts','should','showed','shower','sierra','signal','signed','signup','silent','silver','simple','simply','singer','single','sister','skiing','skills','skirts','sleeps','sleeve','slides','slight','slovak','slowly','smooth','soccer','social','socket','sodium','solely','solved','sorted','sought','sounds','source','soviet','spaces','speaks','spears','speech','speeds','sphere','spider','spirit','spoken','sports','spouse','spread','spring','sprint','square','squirt','stable','stages','stamps','stands','starts','stated','states','static','status','stayed','steady','stereo','steven','sticks','sticky','stocks','stolen','stones','stored','stores','strain','strand','stream','street','stress','strict','strike','string','strips','stroke','strong','struck','struct','stuart','studio','stupid','styles','stylus','subaru','submit','subtle','sudden','suffer','suited','suites','summer','summit','sunday','sunset','superb','supply','surely','surrey','survey','sussex','suzuki','sweden','switch','sydney','symbol','syntax','system','tables','tablet','tackle','tagged','taiwan','taking','talent','talked','target','tariff','tattoo','taught','taylor','techno','temple','tenant','tender','tennis','terror','tested','thanks','thehun','themes','theory','thesis','things','thinks','thirty','thomas','thongs','though','thread','threat','throat','thrown','throws','thumbs','ticket','tigers','timber','timely','timing','tissue','titans','titled','titles','titten','tobago','toilet','tomato','tongue','topics','totals','toward','towers','toyota','tracks','trader','trades','trails','trains','trance','tranny','trauma','travel','travis','treaty','trembl','trends','trials','tribal','tribes','tricks','triple','trivia','troops','trucks','trusts','trying','tucson','tuning','tunnel','turkey','turned','turner','turtle','twelve','twenty','twinks','typing','uganda','ultram','unable','unions','unique','united','unless','unlike','unlock','unwrap','update','upload','urgent','useful','vacuum','vagina','valium','valley','valued','values','valves','varied','varies','vector','velvet','vendor','venice','venues','verbal','verify','vernon','versus','vertex','vessel','viagra','victim','victor','videos','vienna','viewed','viewer','viking','villas','violin','virgin','virtue','vision','visits','visual','vocals','voices','volume','voters','voting','voyeur','voyuer','wagner','waiver','walked','walker','wallet','walnut','walter','wanted','warned','warner','warren','washer','waters','watson','wealth','weapon','webcam','weblog','weekly','weight','wesley','wheels','whilst','wicked','widely','willow','wilson','window','winner','winter','wiring','wisdom','wishes','within','wizard','womens','wonder','wooden','worked','worker','worlds','worthy','wright','writer','writes','yamaha','yearly','yellow','yields','zambia','zoloft','zoning','zshops'];

var developmentWords = ['murmansk'];

var words_ = function () {
  if(app.get('env') === 'development') {
    return developmentWords;
  }
  
  return productionWords;
};

var randomWord = function () {
  var words = words_();
  var randomIndex = _.random(0, words.length - 1);
  return words[randomIndex];
};

var new_ = function (state, data) {
  if ( data === void 0 ) data = {};

  var secretWord = randomWord();
  var length = secretWord.length;
  var word = new Array(length).fill(null);
  data = _.pick(data, 'id');
  
  _.extend(data, {correct: true, missed: 0, used: [], won: null, word: word});
  state = _.extend({secretWord: secretWord}, data);
  
  return [state, data];
};

var actions = {play: play, new: new_};

var actionTypes = _.keys(actions);

var reducer = function (state, action) {
  var type = action.type;
  var data = action.data;
  var res = action.res;
  type = _.camelCase(type);
  
  if(actionTypes.includes(type)) {
    var assign;
    (assign = actions[type](state, data), state = assign[0], data = assign[1]);
    res.send(data);
  }
  
  return state;
};

var storeGenerator = function (id) {
  var store = createStore(reducer);
  return storeUpdater(id, store);
};

var handler$1 = function (type, data, id, res) {
  storeGenerator(id).dispatch({type: type, data: data, res: res});
};

var stateCompletionAssessor = function (store) { return store.getState().won !== null; };

var handler = function (type, data, id, res) {
  var storeObj = vars.stores.get(id);
  var ref = storeObj || {};
  var store = ref.store;

  if(!store || stateCompletionAssessor(store)) {
    return handler$1('new', data, id, res);
  }
  
  storeUpdater(id);
  store.dispatch({type: type, data: data, res: res});
};

var playRouteConfigs = {type: 'post', name: '/play', handler: handler};

var newRouteConfigs = {type: 'post', name: '/new', handler: handler$1};

var routeConfigs = {playRouteConfigs: playRouteConfigs, newRouteConfigs: newRouteConfigs};

var routeConfigurator = function () {
  _.each(routeConfigs, function (routeConfigs$$1) {
    var type = routeConfigs$$1.type;
    var name = routeConfigs$$1.name;
    var handler = routeConfigs$$1.handler;
    
    app[type](name, function (req, res) {
      var body = req.body; if ( body === void 0 ) body = {};
      var id = body.id;
      
      if(!id) {
        var assign;
        ((assign = req.session, id = assign.id));
      }
      
      handler(name.slice(1), body, id, res);
    });
  });
};

var sessionConfigs = {
  secret: uuid(),
  resave: false,
  saveUninitialized: true,
  cookie: {secure: false},
  genid: function () { return uuid(); }
};

var sessionConfigurator = function () {
  var secure = serverConfigs.secure;
  var cors$$1 = serverConfigs.cors;
  if(!cors$$1) {
    _.extend(sessionConfigs.cookie, {secure: secure});
    app.use(session(sessionConfigs));
  }
};

var staticConfigurator = function () {
  var path$$1 = serverConfigs.path;
  
  if(path$$1) {
    app.use(express.static(path$$1));
  }
};

var serverConfigurator = function () {
  jsonConfigurator();
  corsConfigurator();
  inactiveTimeSetter();
  sessionConfigurator();
  staticConfigurator();
  routeConfigurator();
};

var serverStarter = function () {
  var port = serverConfigs.port;
  var host = serverConfigs.host;
  serverConfigurator();
  var server = app.listen(port, host);
  return [app, server];
};

serverStarter();
